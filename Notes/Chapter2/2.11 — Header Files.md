# 2.11 â€” Header Files
### **The Problem with Manual Declarations**

As programs grow from a single file to many files, manually typing forward declarations (function prototypes) at the top of every file becomes unscalable and tedious. If you have 100 files needing 100 functions, that is simply too much copy-pasting.

**The Solution:** Header files (usually `.h`) allow you to write declarations once and import them wherever needed.

---

### **How Header Files Work**

The primary mechanism for using header files is the `#include` directive.

> **Key Insight:** When you use `#include`, the **preprocessor** literally opens the specified file, copies all its contents, and pastes them into your code file at the point of the inclusion before the compiler ever sees the code.

### **Creating and Using Headers**

When splitting code (e.g., `main.cpp` and `add.cpp`), you create a paired header file (e.g., `add.h`).

1. **Content:** The header should contain **forward declarations** (prototypes), not the actual function implementation.
    
2. **Pairing:** `add.cpp` holds the function definitions, and `add.h` holds the declarations.
    
3. **Inclusion:** Both `main.cpp` and `add.cpp` should `#include "add.h"`.
    
    - In `main.cpp`: It provides the compiler with the identifiers so it knows the functions exist.
        
    - In `add.cpp`: It allows the compiler to verify that the definition matches the declaration (catching errors like mismatched return types).
        

### **Syntax: Angled Brackets vs. Quotes**

The way you include a file tells the preprocessor where to look for it.

|**Syntax**|**Usage**|**Search Order**|
|---|---|---|
|`#include <file>`|Standard Library or 3rd Party Libs|Searches only in configured system directories (Include Paths).|
|`#include "file"`|User-defined headers|Searches the **current directory** first, then system directories.|

### **Critical Warning: The One-Definition Rule (ODR)**

You must **not** put function definitions (the actual code body) in header files.

- **Why?** If `add.h` contains the function body and is included in both `main.cpp` and `add.cpp`, the preprocessor copies that body into _both_ files.
    
- **Result:** The linker sees two versions of the same function and throws an error (ODR violation).
    

### **Best Practices Checklist**

- **Extensions:** Use `.h` for your headers. (Standard library headers like `iostream` have no extension for historical/namespace reasons).
    
- **Explicit Includes:** Do not rely on "transitive includes" (header A including header B). If your file uses a function, explicitly include the header for it.
    
- **Order of Includes:** To maximize error detection, order includes as follows:
    
    1. Paired header (`add.h`)
        
    2. Project headers
        
    3. 3rd party library headers
        
    4. Standard library headers
        
- **Don't include .cpp:** Never `#include` a source file (`.cpp`). Compile them alongside your project instead.
    
- **Include Guards:** Always use header guards (covered in the next lesson) to prevent a header from being pasted multiple times into a single file.