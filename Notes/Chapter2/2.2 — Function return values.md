# 2.2 — Function return values

---

# The Problem

If we move input logic into a function like this:

```cpp
void getValueFromUser()
{
    int input{};
    std::cin >> input;
}
```

The value entered by the user is **lost** when the function ends.

Why?

Because `void` means:

> This function does not return a value.

We need a way to send data back to the caller.

---

# Return Values

To return a value from a function, two things are required:

---

## 1️⃣ Return Type

The function must declare what type it returns:

```cpp
int getValueFromUser()
```

This means the function will return an `int`.

---

## 2️⃣ Return Statement

Inside the function:

```cpp
return input;
```

When executed:

1. The return expression is evaluated
    
2. A copy of the value is sent back to the caller
    
3. The function ends immediately
    

This is called:

> Return by value

---

# Example

```cpp
int returnFive()
{
    return 5;
}
```

Used like:

```cpp
std::cout << returnFive();     // prints 5
std::cout << returnFive() + 2; // prints 7
```

Important:

If the caller ignores the return value:

```cpp
returnFive();  // value discarded
```

Nothing happens.

Return values are only used if the caller does something with them.

---

# Fixing the Earlier Program

Correct version:

```cpp
int getValueFromUser()
{
    std::cout << "Enter an integer: ";
    int input{};
    std::cin >> input;

    return input;
}

int main()
{
    int num{ getValueFromUser() };

    std::cout << num << " doubled is: " << num * 2 << '\n';

    return 0;
}
```

Flow:

1. `main()` calls `getValueFromUser()`
    
2. User enters value
    
3. Function returns value
    
4. `num` is initialized with it
    
5. Program continues normally
    

---

# Key Insight

If you need the return value multiple times:

```cpp
int x{ getValueFromUser() };
```

Store it in a variable.

Don’t call the function repeatedly unless you need to.

---

# Understanding main()

When your program runs:

1. The OS calls `main()`
    
2. `main()` executes
    
3. `main()` returns an `int`
    
4. Program ends
    

Special rules for `main()`:

- Must return `int`
    
- Cannot be called explicitly
    
- If no return is written → implicitly returns `0`
    

Best practice:

```cpp
return 0;
```

---

# Status Codes

The value returned from `main()` is a **status code**.

By convention:

- `0` → success
    
- non-zero → failure
    

Portable options:

```cpp
#include <cstdlib>

return EXIT_SUCCESS;
return EXIT_FAILURE;
```

---

# Important Rule

A value-returning function **must** return a value.

This causes undefined behavior:

```cpp
int badFunction()
{
    // no return
}
```

If a function promises an `int`, it must return an `int`.

Always ensure all execution paths return a value.

---

# Functions Return Only One Value

Each call returns exactly one value.

But that value can be:

- A literal
    
- A variable
    
- An expression
    
- Another function call
    

Example:

```cpp
return x + y;
```

---

# Meaning of Return Value

The function author decides what the returned value means:

- A calculated result
    
- User input
    
- A status code
    
- Success/failure indicator
    

Always document what your function returns.

---

# DRY — Don’t Repeat Yourself

Bad (repeated input code):

```cpp
std::cout << "Enter an integer: ";
std::cin >> x;

std::cout << "Enter an integer: ";
std::cin >> y;
```

Better:

```cpp
int x{ getValueFromUser() };
int y{ getValueFromUser() };
```

Benefits:

- Less code
    
- Fewer mistakes
    
- Easier to maintain
    
- More reusable
    

This is **modular programming**:  
Write once → test once → reuse safely.

Opposite of DRY:

> WET — Write Everything Twice

---

# Quiz Review

---

## 1a

```cpp
return7() + return9()
```

7 + 9 = **16**

---

## 1b

Nested function → ❌ Compile error

C++ does not allow nested function definitions.

---

## 1c

Functions called, but return values unused.

Program compiles but prints nothing.

---

## 1d

```cpp
return 5;
return 7;  // never reached
```

Always returns 5.

Printed twice:

```
5
5
```

---

## 1e

```cpp
int return 5()
```

Invalid syntax → Compile error.

---

## Q2 — What is DRY?

**Don’t Repeat Yourself**

Why it matters:

- Reduces redundancy
    
- Improves maintainability
    
- Reduces bugs
    
- Improves clarity
    

---

# Big Picture

Return values allow functions to:

- Produce data
    
- Send results back to caller
    
- Enable modular design
    
- Eliminate redundancy
    

Core mental model:

> A function call is an expression that produces a value.

That idea unlocks everything that follows in C++.