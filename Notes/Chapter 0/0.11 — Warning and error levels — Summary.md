# 0.11 — Warning and error levels — Summary

When you compile a C++ program, the compiler checks that your code follows the rules of the C++ language (assuming compiler extensions have been disabled).

If your program violates the rules of the language, it is considered **ill-formed**.

When the compiler encounters an issue, it emits a **diagnostic message** (often called a diagnostic).

The C++ standard does not define:

- How diagnostics must be categorized
    
- How they must be worded
    
- Whether compilation must stop
    

However, modern compilers follow a common convention.

---

## Errors vs warnings

### Errors

A **diagnostic error** (usually just called an error) means the compiler has decided to halt compilation.

This typically happens because:

- The compiler cannot proceed
    
- The issue violates the language rules
    
- The issue is considered too serious to ignore
    

Errors are often called:

- Compilation errors
    
- Compiler errors
    
- Compile errors
    

If an error occurs, no executable is produced.

---

### Warnings

A **diagnostic warning** (warning for short) means the compiler has detected something questionable but will continue compiling.

In this case:

- Compilation proceeds
    
- The issue is not automatically fixed
    
- The code may still run incorrectly
    

---

### Key insight

Compilers decide whether a non-blocking issue is a warning or an error.

Most compilers agree on categorization — but not always.  
One compiler may emit a warning for something another treats as an error.

---

## Reading diagnostic messages

Diagnostic messages typically include:

- The filename
    
- The line number
    
- A description of what was expected vs. what was found
    

Important:  
The actual mistake may be on a **previous line**, not the line listed.

After fixing the issue, recompile to confirm the diagnostic no longer appears.

---

## Suspicious but legal code

Sometimes code is technically legal C++, but appears suspicious.

In such cases, the compiler may emit a warning to alert you.

These warnings can usually be resolved by:

- Fixing the underlying issue
    
- Rewriting the code more clearly
    

In rare situations, a specific warning may need to be suppressed using non-portable `#pragma` directives. This is compiler-specific and not standardized.

---

## Linker errors

After compilation, the **linker** combines object files into an executable.

The linker may also generate diagnostic errors if it cannot resolve references (for example, missing function definitions).

---

# Increasing warning levels

By default, most compilers only warn about obvious issues.

You can instruct your compiler to be more aggressive about warnings — and this is highly recommended, especially while learning.

**Best practice:**  
Turn warning levels up. The additional diagnostics often catch real bugs.

---

# GCC / g++-13 (Linux)

Since you are using `g++-13`, add the following flags:

```
-Wall
-Weffc++
-Wextra
-Wconversion
-Wsign-conversion
```

### What these do

- `-Wall` — Enables common warnings
    
- `-Weffc++` — Warns about violations of effective C++ guidelines
    
- `-Wextra` — Enables additional warnings
    
- `-Wconversion` — Warns about implicit type conversions
    
- `-Wsign-conversion` — Warns about signed/unsigned mismatches
    

---

## VS Code configuration (final strict version)

Open your `tasks.json`.

Inside `"args"`, add the warning flags **above** `"${file}"`.

### Final `tasks.json`

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "type": "cppbuild",
      "label": "C/C++: g++-13 build active file",
      "command": "/usr/bin/g++-13",
      "args": [
        "-fdiagnostics-color=always",
        "-g",
        "-std=c++17",
        "-pedantic-errors",
        "-Wall",
        "-Weffc++",
        "-Wextra",
        "-Wconversion",
        "-Wsign-conversion",
        "-Werror",
        "${file}",
        "-o",
        "${fileDirname}/${fileBasenameNoExtension}"
      ],
      "options": {
        "cwd": "${fileDirname}"
      },
      "problemMatcher": ["$gcc"],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "detail": "Build active file using GCC 13 (strict ISO C++ with full warnings)."
    }
  ]
}
```

---

# Treat warnings as errors

You can instruct the compiler to treat warnings as errors.

This is done using:

```
-Werror
```

When enabled:

- Any warning halts compilation
    
- You are forced to fix all warnings
    
- Code quality improves significantly
    

**Best practice:**  
Enable `-Werror`, especially while learning.

---

# Final recommended state

Your compiler should now:

- Use `g++-13` explicitly
    
- Enforce ISO C++17
    
- Disable compiler extensions
    
- Enable comprehensive warnings
    
- Treat warnings as errors
    

You now have a professional, strict, production-grade compilation setup.

This is the correct final configuration for this chapter.